/*
## å•é¡Œ 6.11 ğŸ’» ğŸ§ª
æ¥µåº§æ¨™ `r` ã¨ `theta` ã‚’ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚‚ã¡ã€ã‚²ãƒƒã‚¿ãƒ¼ã¨ã‚»ãƒƒã‚¿ãƒ¼ã‚’ã‚‚ã¤èª­ã¿æ›¸ãå¯ã®ã‚¢ã‚¯ã‚»ã‚µãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦ãƒ‡ã‚«ãƒ«ãƒˆåº§æ¨™ `x` ã¨ `y` ã‚’ã‚‚ã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè£…ã—ãªã•ã„ã€‚
ã‚»ãƒƒã‚¿ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã«ãŠã„ã¦ `x` ã¨ `y` ãã‚Œãã‚Œã« `NaN` ãŒè¨­å®šã•ã‚Œã‚‹å ´åˆã«ã¯ã‚¨ãƒ©ãƒ¼ã«ã—ãªã•ã„ã€‚

Math.hypotï¼šä¸ãˆã‚‰ã‚ŒãŸæ•°å€¤ã®å¹³æ–¹å’Œã®å¹³æ–¹æ ¹ã‚’è¨ˆç®—ã™ã‚‹
ã€€ä¾‹ï¼‰Math.hypot(3, 4) // =>5
Math.atan2()ï¼šè§’åº¦ã€€2ã¤ã®å¼•æ•°ã‚’å–ã‚Šã€yè»¸ã¨xè»¸ã®é–“ã®è§’åº¦ã‚’ãƒ©ã‚¸ã‚¢ãƒ³ã§è¿”ã™ 
ã€€ä¾‹ï¼‰Math.atan2(1, 1)ã€€// => 0.7853981633974483 (45åº¦ã‚’ãƒ©ã‚¸ã‚¢ãƒ³ã§è¡¨ç¾)

æ¥µåº§æ¨™:ç‚¹ã®ä½ç½®ã‚’åŸç‚¹ã‹ã‚‰ã®è·é›¢ã¨åŸç‚¹ã‹ã‚‰ã®è§’åº¦ã§è¡¨ã—ã¾ã™ã€‚æ¥µåº§æ¨™ç³»ã¯ã€ç›´äº¤åº§æ¨™ç³»ï¼ˆãƒ‡ã‚«ãƒ«ãƒˆåº§æ¨™ç³»ï¼‰ã¨å¯¾ç…§ã‚’ãªã™åº§æ¨™ç³»
 r:åŠå¾„ã€€åŸç‚¹ã‹ã‚‰ç‚¹ã¾ã§ã®è·é›¢ã‚’è¡¨ã—ã¾ã™ã€‚åŸç‚¹ã‹ã‚‰ã®è·é›¢ãŒ r ã®å††å‘¨ä¸Šã«ç‚¹ãŒã‚ã‚‹ã¨è€ƒãˆã‚‰ã‚‹
 theta:è§’åº¦ã€€åŸç‚¹ã‹ã‚‰ç‚¹ã¸ã®ç›´ç·šãŒXè»¸ã¨ãªã™è§’åº¦ã‚’è¡¨ã—ã¾ã™ã€‚ä¸€èˆ¬çš„ã«ã€Xè»¸ã®æ­£ã®æ–¹å‘ã‹ã‚‰åæ™‚è¨ˆå›ã‚Šã«è§’åº¦ãŒæ¸¬ã‚‰ã‚Œã‚‹

 ãƒ‡ã‚«ãƒ«ãƒˆåº§æ¨™ï¼šXåº§æ¨™ã¨Yåº§æ¨™ã ã‘ã§ãªãã€åŸºæº–ã¨ãªã‚‹åŸç‚¹ï¼ˆåŸç‚¹ã®åº§æ¨™ï¼‰ãŒå¿…è¦
 const x = 3;
 const y = 4;
 ãƒ‡ã‚«ãƒ«ãƒˆåº§æ¨™ã‚’è¡¨ç¤ºã™ã‚‹
 console.log(`(${x}, ${y})`); // å‡ºåŠ›: (3, 4)


**å‡ºé¡Œç¯„å›²**: 6.10.6
*/
export const Coordinate ={
    _x : 0,       // ãƒ‡ã‚«ãƒ«ãƒˆåº§æ¨™
    _y : 0,       // ãƒ‡ã‚«ãƒ«ãƒˆåº§æ¨™
    _r : 0,       // æ¥µåº§æ¨™ã®åŠå¾„
    _theta : 0,   // æ¥µåº§æ¨™ã®è§’åº¦

    // Xåº§æ¨™
    get x(){return this._x;},
    set x(val){
        if(isNaN(val)){
            throw new Error('xã¯æ•°å€¤ä»¥å¤–ã®å€¤ã§ã™');
        }
        this._x = val;
        this._r = Math.hypot(this._x, this._y);
        this._theta = Math.atan2(this._y, this._x);
    },

    // yåº§æ¨™
    get y(){return this._y;},
    set y(val){
        if(isNaN(val)){
            throw new Error('yã¯æ•°å€¤ä»¥å¤–ã®å€¤ã§ã™');
        }
        this._y = val;
        this._r = Math.hypot(this._x, this._y);
        this._theta = Math.atan2(this._y, this._x);
    },

    // råŠå¾„
    get r(){return this._r;},
    set r(val){
        if(isNaN(val)){
            throw new Error('rã¯æ•°å€¤ä»¥å¤–ã®å€¤ã§ã™');
        }
        this._r = val;
        this._x = Math.cos(this._theta);
        this._y = Math.sin(this._theta);
    },

    // thetaè§’åº¦
    get theta(){return this._theta;},
    set theta(val){
        if(isNaN(val)){
            throw new Error('rã¯æ•°å€¤ä»¥å¤–ã®å€¤ã§ã™');
        }
        this._r = val;
        this._x = Math.cos(this._theta);
        this._y = Math.sin(this._theta);
    }
};


// ãƒ‡ã‚«ãƒ«ãƒˆåº§æ¨™ã®è¨­å®š
/*
Coordinate.x = 3;
Coordinate.y = 4;

console.log(`x: ${Coordinate.x}, y:${Coordinate.y}`);
console.log(`r: ${Coordinate.r}, theta:${Coordinate.theta}`);
*/
